C:\samadhi\workspace\medium\My-Building-of-Weather-App-With-State-Management-for-Long-Running-Conversations\My-Building-of-Weather-App-With-State-Management-for-Long-Running-Conversations\Scripts\python.exe C:\samadhi\workspace\medium\My-Building-of-Weather-App-With-State-Management-for-Long-Running-Conversations\app.py
C:\samadhi\workspace\medium\My-Building-of-Weather-App-With-State-Management-for-Long-Running-Conversations\My-Building-of-Weather-App-With-State-Management-for-Long-Running-Conversations\Lib\site-packages\requests\__init__.py:86: RequestsDependencyWarning: Unable to find acceptable character detection dependency (chardet or charset_normalizer).
  warnings.warn(

=== Streaming Example ===
[AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_9rng', 'function': {'arguments': '{"query": "Texas weather"}', 'name': 'tavily_search_results_json'}, 'type': 'function'}]}, response_metadata={'token_usage': {'completion_tokens': 19, 'prompt_tokens': 350, 'total_tokens': 369, 'completion_time': 0.015227673, 'prompt_time': 0.035845298, 'queue_time': 0.207176162, 'total_time': 0.051072971}, 'model_name': 'Llama-3.3-70b-Specdec', 'system_fingerprint': 'fp_985f1e4133', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-8fd3599e-9564-4676-a949-b4a59646ff20-0', tool_calls=[{'name': 'tavily_search_results_json', 'args': {'query': 'Texas weather'}, 'id': 'call_9rng', 'type': 'tool_call'}], usage_metadata={'input_tokens': 350, 'output_tokens': 19, 'total_tokens': 369})]
Calling: {'name': 'tavily_search_results_json', 'args': {'query': 'Texas weather'}, 'id': 'call_9rng', 'type': 'tool_call'}
Back to the model!
[ToolMessage(content='[{\'url\': \'https://www.weatherapi.com/\', \'content\': "{\'location\': {\'name\': \'Texas City\', \'region\': \'Texas\', \'country\': \'United States of America\', \'lat\': 29.3836, \'lon\': -94.9025, \'tz_id\': \'America/Chicago\', \'localtime_epoch\': 1740148074, \'localtime\': \'2025-02-21 08:27\'}, \'current\': {\'last_updated_epoch\': 1740147300, \'last_updated\': \'2025-02-21 08:15\', \'temp_c\': 1.7, \'temp_f\': 35.1, \'is_day\': 1, \'condition\': {\'text\': \'Partly cloudy\', \'icon\': \'//cdn.weatherapi.com/weather/64x64/day/116.png\', \'code\': 1003}, \'wind_mph\': 17.0, \'wind_kph\': 27.4, \'wind_degree\': 47, \'wind_dir\': \'NE\', \'pressure_mb\': 1034.0, \'pressure_in\': 30.53, \'precip_mm\': 0.0, \'precip_in\': 0.0, \'humidity\': 64, \'cloud\': 75, \'feelslike_c\': -4.0, \'feelslike_f\': 24.8, \'windchill_c\': -3.6, \'windchill_f\': 25.5, \'heatindex_c\': 2.1, \'heatindex_f\': 35.7, \'dewpoint_c\': -3.5, \'dewpoint_f\': 25.7, \'vis_km\': 16.0, \'vis_miles\': 9.0, \'uv\': 0.2, \'gust_mph\': 20.1, \'gust_kph\': 32.4}}"}, {\'url\': \'https://world-weather.info/forecast/usa/dallas_1/february-2025/\', \'content\': "Weather in Dallas in February 2025 (Texas) - Detailed Weather Forecast for a Month Weather World United States Weather in Dallas Weather in Dallas in February 2025 Dallas Weather Forecast for February 2025, is based on previous years\' statistical data. February +57°+48° +54°+46° +55°+48° +54°+46° +54°+46° +55°+48° +55°+48° +55°+48° +55°+46° +54°+48° +54°+46° +52°+46° +57°+48° +59°+50° +61°+52° +55°+50° +55°+48° +55°+48° +59°+50° +64°+55° +61°+54° +63°+55° +59°+54° +57°+50° +57°+48° +59°+50° +63°+55° +61°+55° Extended weather forecast in Dallas HourlyWeek10-Day14-Day30-DayYear Weather in large and nearby cities Weather in Washington, D.C.+36° Austin+48° Greenville+32° Irving+36° Lewisville+36° McKinney+34° Mesquite+36° North Richland Hills+34° Plano+34° Richardson+34° Grapevine+36° Grand Prairie+36° Garland+36° Allen+34° Arlington+36° Bedford+36° Melissa+34° Garner+32° world\'s temperature today day day Copyright © 2025 «World-Weather.info» All rights reserved. Temperature units"}]', name='tavily_search_results_json', tool_call_id='call_9rng')]
[AIMessage(content='The current weather in Texas is partly cloudy with a temperature of 35.1°F (1.7°C) and a feels-like temperature of 24.8°F (-4.0°C). The wind is blowing at 17.0 mph (27.4 kph) from the northeast, and the humidity is 64%.', additional_kwargs={}, response_metadata={'token_usage': {'completion_tokens': 69, 'prompt_tokens': 1167, 'total_tokens': 1236, 'completion_time': 0.037543559, 'prompt_time': 0.121367242, 'queue_time': 0.21439384500000003, 'total_time': 0.158910801}, 'model_name': 'Llama-3.3-70b-Specdec', 'system_fingerprint': 'fp_985f1e4133', 'finish_reason': 'stop', 'logprobs': None}, id='run-9030c61a-98f4-4793-a276-0dc6505c3034-0', usage_metadata={'input_tokens': 1167, 'output_tokens': 69, 'total_tokens': 1236})]

=== Thread ID Example ===
{'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_65ne', 'function': {'arguments': '{"query": "Los Angeles weather"}', 'name': 'tavily_search_results_json'}, 'type': 'function'}]}, response_metadata={'token_usage': {'completion_tokens': 20, 'prompt_tokens': 1250, 'total_tokens': 1270, 'completion_time': 0.00635913, 'prompt_time': 0.129286418, 'queue_time': 0.21090248000000003, 'total_time': 0.135645548}, 'model_name': 'Llama-3.3-70b-Specdec', 'system_fingerprint': 'fp_9f325da874', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-38311113-7154-4d7a-8489-a74de3bf8c95-0', tool_calls=[{'name': 'tavily_search_results_json', 'args': {'query': 'Los Angeles weather'}, 'id': 'call_65ne', 'type': 'tool_call'}], usage_metadata={'input_tokens': 1250, 'output_tokens': 20, 'total_tokens': 1270})]}
Calling: {'name': 'tavily_search_results_json', 'args': {'query': 'Los Angeles weather'}, 'id': 'call_65ne', 'type': 'tool_call'}
Back to the model!
{'messages': [ToolMessage(content='[{\'url\': \'https://www.weatherapi.com/\', \'content\': "{\'location\': {\'name\': \'Los Angeles\', \'region\': \'California\', \'country\': \'United States of America\', \'lat\': 34.0522, \'lon\': -118.2428, \'tz_id\': \'America/Los_Angeles\', \'localtime_epoch\': 1740148046, \'localtime\': \'2025-02-21 06:27\'}, \'current\': {\'last_updated_epoch\': 1740147300, \'last_updated\': \'2025-02-21 06:15\', \'temp_c\': 12.2, \'temp_f\': 54.0, \'is_day\': 0, \'condition\': {\'text\': \'Mist\', \'icon\': \'//cdn.weatherapi.com/weather/64x64/night/143.png\', \'code\': 1030}, \'wind_mph\': 3.1, \'wind_kph\': 5.0, \'wind_degree\': 6, \'wind_dir\': \'N\', \'pressure_mb\': 1018.0, \'pressure_in\': 30.05, \'precip_mm\': 0.0, \'precip_in\': 0.0, \'humidity\': 93, \'cloud\': 100, \'feelslike_c\': 12.2, \'feelslike_f\': 54.0, \'windchill_c\': 10.5, \'windchill_f\': 50.8, \'heatindex_c\': 12.0, \'heatindex_f\': 53.5, \'dewpoint_c\': 5.0, \'dewpoint_f\': 41.0, \'vis_km\': 4.8, \'vis_miles\': 2.0, \'uv\': 0.0, \'gust_mph\': 6.6, \'gust_kph\': 10.6}}"}, {\'url\': \'https://world-weather.info/forecast/usa/los_angeles/february-2025/\', \'content\': "Weather in Los Angeles in February 2025 (California) - Detailed Weather Forecast for a Month Weather Weather in Los Angeles Weather in Los Angeles in February 2025 Los Angeles Weather Forecast for February 2025 is based on long term prognosis and previous years\' statistical data. 1 +64°+46° 2 +66°+52° 3 +63°+48° 4 +61°+50° 5 +61°+52° 6 +59°+57° 7 +59°+57° 8 +63°+50° 9 +66°+52° 10 +61°+50° 11 +59°+52° 12 +57°+50° 13 +57°+50° 14 +61°+50° 15 +66°+46° 16 +68°+50° 17 +66°+50° 18 +75°+54° 19 +73°+63° 20 +72°+64° 21 +66°+61° 22 +63°+57° +63°+52° +63°+52° +63°+52° +64°+54° +63°+54° +64°+54° Extended weather forecast in Los Angeles Weather in Washington, D.C.+39° Sacramento+52° Norwalk+57° Pasadena+55° Rosemead+57° Inglewood+57° Bellflower+57° Burbank+55° Compton+57° Bandini+57° world\'s temperature today Temperature units"}]', name='tavily_search_results_json', tool_call_id='call_65ne')]}
{'messages': [AIMessage(content='The current weather in Los Angeles is misty with a temperature of 54.0°F (12.2°C) and a feels-like temperature of 54.0°F (12.2°C). The wind is blowing at 3.1 mph (5.0 kph) from the north, and the humidity is 93%.', additional_kwargs={}, response_metadata={'token_usage': {'completion_tokens': 70, 'prompt_tokens': 2055, 'total_tokens': 2125, 'completion_time': 0.013361884, 'prompt_time': 0.213699047, 'queue_time': 0.226630474, 'total_time': 0.227060931}, 'model_name': 'Llama-3.3-70b-Specdec', 'system_fingerprint': 'fp_9f325da874', 'finish_reason': 'stop', 'logprobs': None}, id='run-515dba4d-07cc-4093-84a7-ebac64b21322-0', usage_metadata={'input_tokens': 2055, 'output_tokens': 70, 'total_tokens': 2125})]}

=== Test Examples ===
{'messages': [AIMessage(content='Los Angeles is warmer than Texas. The current temperature in Los Angeles is 54.0°F (12.2°C), while the current temperature in Texas is 35.1°F (1.7°C).', additional_kwargs={}, response_metadata={'token_usage': {'completion_tokens': 44, 'prompt_tokens': 2139, 'total_tokens': 2183, 'completion_time': 0.016614433, 'prompt_time': 0.228130681, 'queue_time': 0.228969633, 'total_time': 0.244745114}, 'model_name': 'Llama-3.3-70b-Specdec', 'system_fingerprint': 'fp_9f325da874', 'finish_reason': 'stop', 'logprobs': None}, id='run-f5c98d62-7099-4655-b9a7-e65281f9838b-0', usage_metadata={'input_tokens': 2139, 'output_tokens': 44, 'total_tokens': 2183})]}
{'messages': [AIMessage(content='I need more information to determine which one is warmer. Could you please provide more context or specify what you are comparing?', additional_kwargs={}, response_metadata={'token_usage': {'completion_tokens': 25, 'prompt_tokens': 348, 'total_tokens': 373, 'completion_time': 0.018955322, 'prompt_time': 0.035596599, 'queue_time': 0.202819321, 'total_time': 0.054551921}, 'model_name': 'Llama-3.3-70b-Specdec', 'system_fingerprint': 'fp_985f1e4133', 'finish_reason': 'stop', 'logprobs': None}, id='run-1c6b4fb9-062b-4afd-a74f-cb99f0260f5b-0', usage_metadata={'input_tokens': 348, 'output_tokens': 25, 'total_tokens': 373})]}

=== Streaming Tokens Example ===
Calling: {'name': 'tavily_search_results_json', 'args': {'query': 'San Francisco weather today'}, 'id': 'call_7bbh', 'type': 'tool_call'}
Back to the model!
The| current| weather| in| San| Francisco| is| partly| cloudy| with| a| temperature| of| |48|.|9|°F| (|9|.|4|°C|)| and| a| feels|-like| temperature| of| |46|.|6|°F| (|8|.|1|°C|).| The| wind| is| blowing| at| |5|.|6| mph| (|9|.|0| k|ph|)| from| the| northeast|,| and| the| humidity| is| |80|%.|
Process finished with exit code 0
